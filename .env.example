# Example environment variables for raibid-ci
# Copy this file to .env and customize for your environment
#
# Usage: docker-compose --env-file .env up

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_URL=redis://redis:6379
REDIS_STREAM_KEY=raibid:jobs
REDIS_CONSUMER_GROUP=raibid-agents
REDIS_BLOCK_TIMEOUT=5000

# ============================================================================
# Server Configuration
# ============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
METRICS_PORT=8081
HEALTH_PATH=/health

# Server behavior
MAX_CONCURRENT_JOBS=100
JOB_TIMEOUT=3600
GRACEFUL_SHUTDOWN_TIMEOUT=30

# ============================================================================
# Agent Configuration
# ============================================================================
AGENT_CONCURRENCY=2
AGENT_POLL_INTERVAL=5
AGENT_HEARTBEAT_INTERVAL=30
AGENT_MAX_JOB_DURATION=3600

# Build cache settings
CARGO_HOME=/home/agent/.cargo
CARGO_TARGET_DIR=/workspace/target
CARGO_INCREMENTAL=1

# ============================================================================
# Logging and Observability
# ============================================================================
RUST_LOG=info,raibid_server=debug,raibid_agent=debug
RUST_BACKTRACE=1
LOG_FORMAT=json
LOG_LEVEL=info

# ============================================================================
# Development vs Production
# ============================================================================
ENVIRONMENT=development

# ============================================================================
# Optional: Authentication and Security
# ============================================================================
# API_KEY=your-api-key-here
# JWT_SECRET=your-jwt-secret-here
# CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ============================================================================
# Optional: Git repository mirroring
# ============================================================================
# GITHUB_TOKEN=ghp_your_token_here
# GITEA_URL=http://gitea:3000
# GITEA_TOKEN=your_gitea_token_here

# ============================================================================
# Optional: Observability backends
# ============================================================================
# METRICS_EXPORTER=prometheus
# PROMETHEUS_ENDPOINT=http://prometheus:9090
# TRACE_EXPORTER=jaeger
# JAEGER_ENDPOINT=http://jaeger:14268/api/traces

# ============================================================================
# Build configuration
# ============================================================================
RUST_VERSION=1.82
